---
auto_apply: true
apply_to: "**/*.php"
---

# Правила для PHP файлов

## Синтаксис и форматирование

- Использовать PSR-4 стандарт для автозагрузки классов
- Открывающий тег PHP должен быть `<?php` без закрывающего тега в конце файла
- Использовать camelCase для методов и свойств
- Использовать PascalCase для имен классов
- Использовать UPPER_CASE для констант

## Namespace и Use операторы

- Всегда указывать namespace в соответствии со структурой папок
- Группировать use операторы по типам (стандартные библиотеки, сторонние пакеты, внутренние классы)
- Использовать полные пути для классов

## Документация

- Использовать PHPDoc комментарии для всех классов, методов и свойств
- Указывать типы параметров и возвращаемых значений
- Добавлять описания на русском языке

## Обработка ошибок

- Использовать исключения для обработки ошибок
- Создавать собственные классы исключений при необходимости
- Использовать try-catch блоки для критических операций

## Работа с массивами

- Предпочитать короткий синтаксис массивов `[]` вместо `array()`
- Использовать типизированные массивы где возможно

## Примеры кода

```php
<?php

namespace app\models;

use Yii;
use yii\db\ActiveRecord;

/**
 * Класс для работы с пользователями
 *
 * @property int $id ID пользователя
 * @property string $name Имя пользователя
 */
class User extends ActiveRecord
{
    /**
     * {@inheritdoc}
     */
    public static function tableName(): string
    {
        return 'users';
    }

    /**
     * Получить пользователя по ID
     *
     * @param int $id ID пользователя
     * @return User|null
     */
    public static function findById(int $id): ?User
    {
        return static::findOne($id);
    }
}
```
